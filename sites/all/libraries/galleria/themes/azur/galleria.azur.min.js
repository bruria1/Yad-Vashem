!function(e){Galleria.addTheme({name:"azur",author:"Galleria",css:"galleria.azur.css",defaults:{transition:"fade",transitionSpeed:500,imageCrop:true,thumbCrop:"height",idleMode:"hover",idleSpeed:500,fullscreenTransition:false,_locale:{show_captions:"Show captions",hide_captions:"Hide captions",play:"Play slideshow",pause:"Pause slideshow",enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",next:"Next image",prev:"Previous image",showing_image:"Showing image %s of %s"},_toggleCaption:true,_showCaption:true,_showTooltip:true},init:function(t){Galleria.requires(1.33,"This version of Azur theme requires Galleria version 1.3.3 or later");this.addElement("bar","fullscreen","play","progress").append({stage:"progress",container:"bar",bar:["fullscreen","play","thumbnails-container"]}).prependChild("stage","info").appendChild("container","tooltip");var a=this,i=window.document,n=t._locale,o="getContext"in i.createElement("canvas");!function(){if(!o){a.addElement("progressbar").appendChild("progress","progressbar");a.$("progress").addClass("nocanvas");var t=a.$("progress").width();a.bind("progress",function(e){a.$("progressbar").width(e.percent/100*t)});return}var n=24,s=i.createElement("canvas"),r=s.getContext("2d"),l=function(e){return e*(Math.PI/180)},c=function(e,t){r.strokeStyle=t||"#000";r.lineWidth=3;r.clearRect(0,0,n,n);r.beginPath();r.arc(n/2,n/2,n/2-2,l(-90),l(e-90),false);r.stroke();r.closePath()};s.width=n;s.height=n;e(s).css({zIndex:1e4,position:"absolute",right:10,top:10}).appendTo(a.get("container"));a.bind("progress",function(t){e(s).fadeIn(200);c(t.percent*3.6,"rgba(255,255,255,.7)")});a.bind("pause",function(){e(s).fadeOut(200,function(){r.clearRect(0,0,n,n)})})}();!function(){if(!o){a.$("loader").addClass("nocanvas");return}var t=i.createElement("canvas"),n=t.getContext("2d"),s=Math,r=function(e,t,a){var i=a?-2:2;e.translate(t/i,t/i)},l=28;e(t).hide().appendTo(a.get("loader")).fadeIn(500);var c=function(e,t){var a=48,i=28,n;e.clearRect(0,0,a,a);e.lineWidth=1.5;for(var o=0;o<i;o++){n=o+t>=i?o-i+t:o+t;e.strokeStyle="rgba(255,255,255,"+s.max(0,n/i)+")";e.beginPath();e.moveTo(a/2,a/2-16);e.lineTo(a/2,0);e.stroke(1);r(e,a,false);e.rotate(360/i*s.PI/180);r(e,a,true)}e.save();r(e,a,false);e.rotate(-1*(360/i/8)*s.PI/180);r(e,a,true)};window.setInterval(function(){c(n,l);l=l===0?28:l-1},20)}();var s=Galleria.IE<9?{bottom:-100}:{bottom:-50,opacity:0},r=Galleria.IE<9?{top:-20}:{opacity:0,top:-20};this.bind("play",function(){this.$("play").addClass("pause");if(!o){this.$("progress").show()}}).bind("pause",function(){this.$("play").removeClass("pause");if(!o){this.$("progress").hide()}}).bind("loadstart",function(e){if(!e.cached){this.$("loader").show()}}).bind("loadfinish",function(e){if(o){this.$("loader").fadeOut(100)}else{this.$("loader").hide()}});this.addIdleState(this.get("info"),s,Galleria.IE<9?{}:{opacity:1},true).addIdleState(this.get("image-nav-left"),{opacity:0,left:0},{opacity:1},true).addIdleState(this.get("image-nav-right"),{opacity:0,right:0},{opacity:1},true).addIdleState(this.get("counter"),r,Galleria.IE<9?{}:{opacity:.9},true);this.$("fullscreen").on("click:fast",function(e){e.preventDefault();a.toggleFullscreen()});this.$("play").on("click:fast",function(e){e.preventDefault();a.playToggle()});if(t._toggleCaption){this.$("info").addClass("toggler");this.addElement("captionopen").appendChild("stage","captionopen");this.addElement("captionclose").appendChild("info","captionclose");this.$("captionopen").on("click:fast",function(){a.$("info").addClass("open");e(this).hide()}).html(n.show_captions);this.bind("loadstart",function(){this.$("captionopen").toggle(!a.$("info").hasClass("open")&&this.hasInfo())});this.$("captionclose").on("click:fast",function(){a.$("info").removeClass("open");if(a.hasInfo()){a.$("captionopen").show()}}).html("&#215;");if(t._showCaption){this.$("captionopen").trigger("click:fast")}}if(t._showTooltip){this.bindTooltip({fullscreen:function(){return a.isFullscreen()?n.exit_fullscreen:n.enter_fullscreen},play:function(){return a.isPlaying()?n.pause:n.play},captionclose:n.hide_captions,"image-nav-right":n.next,"image-nav-left":n.prev,counter:function(){return n.showing_image.replace(/\%s/,a.getIndex()+1).replace(/\%s/,a.getDataLength())}})}}})}(jQuery);